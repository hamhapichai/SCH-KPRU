# ===========================================
# SCH-KPRU Production Environment Variables
# ===========================================
# Copy this file to .env.prod and update with your production values
# DO NOT commit .env.prod to version control

# ===========================================
# Database Configuration
# ===========================================
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=sch_kpru_prod
POSTGRES_USER=sch_kpru_user

# Database Connection String (used by backend)
DB_CONNECTION_STRING=Host=postgres;Port=5432;Database=sch_kpru_prod;Username=sch_kpru_user;Password=${POSTGRES_PASSWORD}

# ===========================================
# Security Configuration
# ===========================================
# JWT Secret Key (generate a strong random key for production)
JWT_SECRET=your_very_secure_jwt_secret_key_here_minimum_256_bits
JWT_ISSUER=SCH-KPRU
JWT_AUDIENCE=SCH-KPRU-Users

# Password Salt (generate a strong random salt)
PASSWORD_SALT=your_secure_password_salt_here

# ===========================================
# Application URLs
# ===========================================
# Backend API URL (internal Docker network)
API_URL=http://backend:8080

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost

# External API URL (for frontend to call backend)
NEXT_PUBLIC_API_URL=http://localhost/api

# ===========================================
# N8n Integration (Optional)
# ===========================================
# N8n Base URL (if using external n8n instance)
N8N_BASE_URL=http://your-n8n-instance.com

# N8n Webhook URL (for AI suggestions callback)
N8N_WEBHOOK_URL=${N8N_BASE_URL}/webhook/complaints

# ===========================================
# AI Service Configuration (Optional)
# ===========================================
# OpenAI API Key (if using OpenAI for AI suggestions)
OPENAI_API_KEY=your_openai_api_key_here

# AI Model Configuration
AI_MODEL=gpt-4
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=1000

# ===========================================
# Email Configuration (Optional)
# ===========================================
# SMTP Configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@sch-kpru.edu
SMTP_FROM_NAME=SCH-KPRU System

# ===========================================
# File Upload Configuration
# ===========================================
# Maximum file upload size (in MB)
MAX_FILE_SIZE_MB=10

# Allowed file types
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# Upload directory (inside container)
UPLOAD_DIR=/app/uploads

# ===========================================
# Logging Configuration
# ===========================================
# Log level (Trace, Debug, Information, Warning, Error, Critical)
LOG_LEVEL=Information

# Enable console logging
ENABLE_CONSOLE_LOGGING=true

# Enable file logging
ENABLE_FILE_LOGGING=true

# Log file path
LOG_FILE_PATH=/app/logs/sch-kpru.log

# ===========================================
# Performance Configuration
# ===========================================
# Connection pool size
CONNECTION_POOL_SIZE=100

# Request timeout (in seconds)
REQUEST_TIMEOUT_SECONDS=30

# Enable response compression
ENABLE_COMPRESSION=true

# ===========================================
# Monitoring & Health Checks
# ===========================================
# Enable health checks
ENABLE_HEALTH_CHECKS=true

# Health check interval (in seconds)
HEALTH_CHECK_INTERVAL=30

# ===========================================
# Security Headers
# ===========================================
# Content Security Policy
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self 'unsafe-inline' 'unsafe-eval'
CSP_STYLE_SRC=self 'unsafe-inline'
CSP_IMG_SRC=self data: https:
CSP_FONT_SRC=self

# ===========================================
# Rate Limiting
# ===========================================
# API rate limit (requests per minute)
API_RATE_LIMIT=100

# Auth rate limit (requests per minute)
AUTH_RATE_LIMIT=10

# ===========================================
# Cache Configuration
# ===========================================
# Redis URL (if using Redis for caching)
REDIS_URL=redis://redis:6379

# Cache expiration time (in minutes)
CACHE_EXPIRATION_MINUTES=60

# ===========================================
# SSL/HTTPS Configuration (Optional)
# ===========================================
# Enable HTTPS
ENABLE_HTTPS=false

# SSL Certificate Path
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ===========================================
# Docker Configuration
# ===========================================
# Docker Compose Project Name
COMPOSE_PROJECT_NAME=sch-kpru-prod

# Docker Network Name
DOCKER_NETWORK=sch-kpru-network

# ===========================================
# Backup Configuration
# ===========================================
# Enable automatic backups
ENABLE_BACKUPS=true

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention days
BACKUP_RETENTION_DAYS=30

# ===========================================
# Development Overrides (for debugging)
# ===========================================
# Override production settings for development
# Uncomment these for development debugging
# ASPNETCORE_ENVIRONMENT=Development
# ENABLE_CONSOLE_LOGGING=true
# LOG_LEVEL=Debug